---

import CardPaso from "./CardsPasos.astro";
import fs from "fs";

import captura1 from "../assets/Entrega14/deployment_service_creados.png";
import captura2 from "../assets/Entrega14/comandos_kubectl.png";
import captura3 from "../assets/Entrega14/informacion_deployment.png";
import captura4 from "../assets/Entrega14/Logs_del_POD.png";
import captura5 from "../assets/Entrega14/Gestion_POD.png";

const serviceyaml = fs.readFileSync("./src/assets/service.yaml.txt", "utf8");
const deploymentyaml = fs.readFileSync("./src/assets/deployment.yaml.txt", "utf8");

const pasos = [
    {titulo: "Aplicar servicios", imagen: captura1.src, descripcion: "Aplicamos los servicios deployment.yaml y service.yaml"},
    {titulo: "Comandos de kubectl", imagen: captura2.src, descripcion: "Comandos de kubectl para obtener informacion"},
    {titulo: "Informacion del despliegue", imagen: captura3.src, descripcion: "Obtener informacion del despliegue"},
    {titulo: "Logs del POD", imagen: captura4.src, descripcion: "Obtener los logs del POD"},
    {titulo: "Gestion de POD", imagen: captura5.src, descripcion: ""},
]
---

<div class="flex flex-col justify-center items-center gap-4 w-full h-full bg-gray-950 pt-20" id="entrega14">
    <div class="text-center mb-5">
        <h1 class="text-center font-bold text-3xl text-heading mb-5">Entrega 2 actividad 6</h1>
        <p class="text-heading text-xl">En esta entrega veremos como se despliega los Kubernetes y comandos para su gestion</p>
    </div>
    <div class="columns-1 sm:columns-2 lg:columns-3 gap-4">
        {pasos.map(step => (
                <div class="mb-4 break-inside-avoid">
                    <CardPaso titulo={step.titulo} imagen={step.imagen} descripcion={step.descripcion} />
                </div>
        ))}
    </div>
    <div class="flex gap-64">
        <div class="max-w-3xl mx-auto">

            <h1 class="text-3xl font-bold text-heading my-6">
                Deployment.yaml
            </h1>

            <div class="bg-gray-900 text-gray-100 rounded-xl shadow-lg relative overflow-hidden">

                <div class="flex space-x-2 px-4 py-2 bg-gray-800">
                    <span class="w-3 h-3 bg-red-500 rounded-full"></span>
                    <span class="w-3 h-3 bg-yellow-500 rounded-full"></span>
                    <span class="w-3 h-3 bg-green-500 rounded-full"></span>
                </div>

                <pre class="p-4 overflow-x-auto text-sm">
<code class="language-java">{deploymentyaml}</code>
      </pre>
            </div>
        </div>
        <div class="max-w-3xl mx-auto">

            <h1 class="text-3xl font-bold text-heading my-6">
                Service.yaml
            </h1>

            <div class="bg-gray-900 text-gray-100 rounded-xl shadow-lg relative overflow-hidden">

                <div class="flex space-x-2 px-4 py-2 bg-gray-800">
                    <span class="w-3 h-3 bg-red-500 rounded-full"></span>
                    <span class="w-3 h-3 bg-yellow-500 rounded-full"></span>
                    <span class="w-3 h-3 bg-green-500 rounded-full"></span>
                </div>

                <pre class="p-4 overflow-x-auto text-sm">
<code class="language-java">{serviceyaml}</code>
      </pre>
            </div>
        </div>
    </div>
    <a
            href="https://youtu.be/VGdjIb9nE-A"
            target="_blank"
            rel="noopener noreferrer"
            class="px-4 py-2 text-white bg-red-600 hover:bg-red-700 font-medium rounded-lg shadow transition-all"
    >
        Video Evidencia
    </a>
</div>